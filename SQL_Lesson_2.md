# Базы данных и SQL. Обучение в записи
### Урок 2. Семинар: Установка СУБД, подключение к БД, просмотр и создание таблиц

**Задание 1: Создание сущности с книгами**

Создайте таблицу (сущность) с книгами books.

Перечень полей (атрибутов):

● id – числовой тип, автоинкремент, первичный ключ;

● title – строковый тип, обязательный к заполнению;

● author – строковый тип, обязательный к заполнению;

● year – числовой тип, обязательный к заполнению;

● price – числовой тип, беззнаковый.


```
CREATE TABLE books (
id INT AUTO_INCREMENT PRIMARY KEY,
title VARCHAR(255) NOT NULL,
author VARCHAR(255) NOT NULL,
year INT NOT NULL,
price DECIMAL(10, 2) NOT NULL -- Убрали UNSIGNED
);


INSERT INTO books (title, author, year, price) VALUES
('Убить пересмешника', 'Харпер Ли', 1960, 300.00),
('1984', 'Джордж Оруэлл', 1949, 250.00),
('Великий Гэтсби', 'Ф. Скотт Фицджеральд', 1925, 200.00),
('Над пропастью во ржи', 'Дж. Д. Сэлинджер', 1951, 280.00),
('Моби Дик', 'Герман Мелвилл', 1851, 400.00),
('Скотный двор', 'Джордж Оруэлл', 1945, 220.00),
('Почти на Каталонии', 'Джордж Оруэлл', 1938, 180.00);
```

**Задание 2: Выборка книг по году издания**

Имеется таблица (сущность) с книгами books. У сущности имеются следующие поля
(атрибуты):

● id – идентификатор;

● title – название;

● author – автор;

● year – год издания;

● price – цена.

Необходимо вывести название, автора и цену для книг, которые были изданы после
1950 года в порядке возрастания цены

```
SELECT title, author, price
FROM books
WHERE year > 1950
ORDER BY price ASC;
```


**Задание 3: Выборка книг автора «George Orwell»**

Имеется таблица (сущность) с книгами books. У сущности имеются следующие поля
(атрибуты):

● id – идентификатор;

● title – название;

● author – автор;

● year – год издания;

● price – цена.

Необходимо вывести идентификатор, название, автора, год издания и цену для книг, у
которых автор «Джордж Оруэлл» и изданные после 1940 года..

```
SELECT id, title, author, year, price
FROM books
WHERE author = 'Джордж Оруэлл' AND year > 1940;
```


**Задание 4: Анализ и статистика по книгам**

Имеется таблица (сущность) с книгами books. У сущности имеются
следующие поля (атрибуты):

● id – идентификатор;

● title – название;

● author – автор;

● year – год издания;

● price – цена.

Необходимо выполнить следующие задачи:
1. Подсчитать общее количество книг в таблице.
2. Найти среднюю цену книг.
3. Вывести автора, у которого самая дорогая книга.
4. Подсчитать количество книг для каждого автора и вывести
авторов, у которых более одной книги.
5. Найти книги, изданные до 1950 года, и вывести их названия и
авторов в алфавитном порядке авторов.

```

SELECT COUNT(*) AS total_books
FROM books;

SELECT AVG(price) AS average_price
FROM books;

SELECT author
FROM books
WHERE price = (SELECT MAX(price) FROM books);

SELECT author, COUNT(*) AS book_count
FROM books
GROUP BY author
HAVING COUNT(*) > 1;

SELECT title, author
FROM books
WHERE year < 1950
ORDER BY author;
```